{
  "title": "KlantContact to Contactmoment",
  "description": "Makes sure there are not multiple variants of the same categorie.. Note Barry: If a todo is set its a contaactverzoek else contactmoment which uses tekst for notitie (correct me if Im wrong) ",
  "$id": "https://commongateway.nl/mapping/klant.klantContactToContactmoment.mapping.json",
  "$schema": "https://docs.commongateway.nl/schemas/Mapping.schema.json",
  "version": "0.0.3",
  "passTrough": false,
  "mapping": {
    "registratiedatum": "plaatsgevondenOp",
    "kanaal": "kanaal.soortDigitaalAdres",
    "todo.description": "{% if 'todo=' in inhoud %}{% set parts = inhoud|split('todo=') %}{% set todoText = parts[1]|trim %}{{ todoText }}{% endif %}",
    "tekst": "{%if 'tekst=' in inhoud %}{% set parts = inhoud|split('tekst=') %}{% set tekst = parts[1]|trim %}{{ tekst }}{% endif %}",
    "afwijkendOnderwerp": "onderwerp",
    "zaaknummer": "gaatOver.objectIdentificator.objectId",
    "status": "{% if indicatieContactGelukt == 'nee'%}open{% else %}afgehandeld{% endif %}",
    "afdeling": "actors.0.organisatorischeEenheid.omschrijving",
    "attendees.0":  "actors.1.medewerker.eMailadres"
  },
  "cast": {
    "todo": "unsetIfValue=="
  }
}
